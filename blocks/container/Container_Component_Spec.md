# Container 元件開發需求規格文件

**元件編號：** ID-12  
**元件名稱：** Container_2cols  
**文件版本：** 1.0  
**最後更新日期：** 2024-12-27

---

## 1. 元件概述

### 1.1 元件說明
Container 是一個響應式容器佈局元件，主要支援兩種佈局模式：「分欄式」與「疊層式」。此元件提供靈活的內容排列方式，可根據不同裝置寬度自動調整佈局，並支援多種容器配置選項。

### 1.2 主要功能
- 支援分欄式佈局（Split Layout）與疊層式佈局（Overlay Layout）
- 響應式設計，支援桌機、平板、手機等多種裝置
- 基於 Grid System 進行佈局控制
- 支援容器對齊、間距、背景色等多種樣式設定
- 內容裁切功能控制

### 1.3 使用場景
- 網站主要內容區塊佈局
- 雙欄或多欄內容排列
- 需要前後景層疊效果的設計
- 響應式網頁內容容器

---

## 2. 佈局模式規格

### 2.1 分欄式佈局（Variant 1）

#### 2.1.1 佈局特性
- 容器內元件預設由上至下垂直排列
- 不同裝置寬度下會根據設定的欄位比例（2 cols span）自動調整佈局
- 基於 Grid System 進行配置

#### 2.1.2 響應式斷點設定

**桌機（Desktop）**
- 欄寬比例設定（2 cols span）：3:9 / 4:8 / 5:7 / 6:6 / 7:5 / 8:4 / 9:3
- 支援多種欄位寬度組合

**平板（Tablet）**
- 欄寬比例設定（2 cols span）：5:7 / 6:6 / 7:5
- 提供適合平板閱讀的欄位比例

**手機（Mobile）**
- 自動轉換為上下垂直堆疊排列
- 失去欄寬分配效果

#### 2.1.3 排序功能
- **預設狀態**：在桌機模式下，內容會顯示在上方
- **反向排序**：可透過 `reverse` 鍵設定，讓內容顯示在下方

#### 2.1.4 視覺示意
```
桌機佈局範例（3:9 比例）：
┌──────────┬────────────────────────────┐
│Container │      Container 2           │
│    1     │                            │
│ (3 cols) │      (9 cols)              │
└──────────┴────────────────────────────┘
```

---

### 2.2 疊層式佈局（Variant 2-5）

#### 2.2.1 佈局特性
- 提供兩個獨立容器（如前景與背景）互相交疊的佈局方式
- 此佈局的變化建基於「主要內容區塊的寬度」進行定義
- 並提供多種前後位置的交疊方式

#### 2.2.2 容器寬度變化版本

**Variant 2（2 欄寬）**
- 主要內容區塊寬度：分為 2 欄
- 欄位比例（2 cols span）：7:6 / 8:6 / 9:6 / 10:0（w:6 / 6:10）（w:6 / 6:9 / 6:8 / 6:7）

**Variant 3（3 欄寬）**
- 主要內容區塊寬度：分為 3 欄
- 欄位比例：同上述比例系統

**Variant 4（4 欄寬）**
- 主要內容區塊寬度：分為 4 欄

**Variant 5（12 欄寬）**
- 主要內容區塊寬度：分為 12 欄（全寬度）

#### 2.2.3 響應式斷點設定

**平板（Tablet）**
- 主要內容區塊寬度：分為 2 欄（variant 2）/ 5 欄（variant 3）
- 欄位比例（2 cols span）：7:6 / 8:6 / 9:6 / 10:0（w:6 / 6:10）（w:6 / 6:9 / 6:8 / 6:7）

**手機（Mobile）**
- 自動轉換為上下垂直堆疊排列
- 失去欄寬分配效果

#### 2.2.4 排序功能
- **預設狀態**：在桌機模式下，內容會顯示在上方
- **反向排序**：可透過 `reverse` 鍵設定，讓內容顯示在下方

#### 2.2.5 視覺示意
```
疊層佈局範例（Overlay Layout）：
┌─────────────────────────────────────┐
│  ┌──────────────────┐               │
│  │  Container 2     │               │
│  │  (Foreground)    │               │
│  └──────────────────┘               │
│         Container 1 (Background)    │
└─────────────────────────────────────┘
```

---

## 3. 容器設置規格（Container_setting）

### 3.1 寬度設置

#### 3.1.1 流動（Fluid）模式
- 容器隨螢幕尺寸調整，根據設置的容器最大與最小寬比例縮放
- 提供響應式體驗

#### 3.1.2 最大寬度（max-width）設置
- 在「流動」模式下，可以額外設定一個最大寬度值
- 限制容器的最大尺寸

#### 3.1.3 固定（Fixed）模式
- 可利用 `width fixed` 設定 container 固定寬度
- 假設兩個 container 其中一個設定為 `fixed`，另一個 container 寬度會改成 `auto`（12 cols 1 row）
- 使用 `max-fixed` 設定最大固定寬度

### 3.2 內容對齊（Alignment）

#### 3.2.1 水平對齊
- **靠左（Left）**：內容靠左對齊
- **置中（Center）**：內容水平置中
- **靠右（Right）**：內容靠右對齊

### 3.3 外間距（Margin）設置
- 可為容器設定外間距
- 用以控制容器與相鄰元素距離
- 包括上間距（top）、左間距（left）、右間距（right）

### 3.4 背景填色（bg_color）
- 可為容器設定背景顏色
- 左右兩個容器為同色系

### 3.5 內容裁切（Clip）
- 此選項控制容器內的元件是否允許溢出邊界

### 3.6 容器間對齊設定（container 1 & 2 vertical alignment）

此設定用於控制佈局中兩個容器之間的垂直相對位置：

#### 3.6.1 靠上對齊（Top）
- 兩個容器的頂部邊緣對齊

#### 3.6.2 置中對齊（Center）
- 兩個容器的垂直中心點對齊

#### 3.6.3 靠下對齊（Bottom）
- 兩個容器的底部邊緣對齊

---

## 4. 可容納元件規格（Allowed Components）

### 4.1 分欄式佈局允許的元件

由於分欄式佈局的左右兩個容器為左右排列，沒有前後景層疊之分，因此兩個容器會可自由置放以下所有允許的元件：

#### 4.1.1 基礎內容元件
- **文字區塊（Text_block）**
- **功能項目群組（featureitem_group）**
- **媒體區塊（Media_block）**
- **了解更多按鈕（btn_learnmore）**
- **圖表（bar_chart）**

---

### 4.2 疊層式佈局允許的元件

疊層式佈局具有明確的前後景層級，不同層級的容器需放置其專屬的可容納元件類別：

#### 4.2.1 背景容器（Background Container）
主要作為視覺背景使用，僅能置放：
- **媒體區塊（Media_block）**及其相關控制項（如圖像停留跳動）

#### 4.2.2 前景容器（Foreground Container）
主要用於呈現文字、互動核心內容，可置放除媒體以外的所有元件：
- **文字區塊（Text_block）**
- **功能項目群組（featureitem_group）**
- **了解更多按鈕（btn_learnmore）**
- **圖表（bar_chart）**

---

## 5. 技術規格

### 5.1 技術要求
- 基於 CSS Grid System 實作
- 支援響應式設計（RWD）
- 需支援主流瀏覽器（Chrome, Firefox, Safari, Edge）

### 5.2 斷點定義
建議斷點設定（可依專案調整）：
- 手機：< 768px
- 平板：768px - 1024px
- 桌機：> 1024px

### 5.3 Grid System 規格
- 預設使用 12 欄網格系統
- 欄位間距（gutter）可自訂
- 支援彈性欄位比例分配

### 5.4 屬性參數結構

```javascript
{
  variant: 1 | 2 | 3 | 4 | 5,  // 佈局變化版本
  
  // 分欄式佈局設定
  splitLayout: {
    desktop: {
      colSpan: '3:9' | '4:8' | '5:7' | '6:6' | '7:5' | '8:4' | '9:3'
    },
    tablet: {
      colSpan: '5:7' | '6:6' | '7:5'
    },
    mobile: {
      stacked: true  // 自動堆疊
    },
    reverse: boolean  // 排序反轉
  },
  
  // 疊層式佈局設定
  overlayLayout: {
    mainContentWidth: 2 | 3 | 4 | 12,  // 主要內容區塊寬度（欄數）
    desktop: {
      colSpan: string  // 如 '7:6', '8:6' 等
    },
    tablet: {
      colSpan: string
    },
    mobile: {
      stacked: true
    },
    reverse: boolean
  },
  
  // 容器設置
  container1: {
    width: {
      mode: 'fluid' | 'fixed',
      maxWidth?: string,  // 如 '1200px'
      fixedWidth?: string,  // 固定寬度值
      maxFixed?: string
    },
    alignment: 'left' | 'center' | 'right',
    margin: {
      top?: string,
      left?: string,
      right?: string
    },
    bgColor?: string,
    clip: boolean,
    allowedComponents: string[]  // 允許的子元件類型
  },
  
  container2: {
    // 同 container1 結構
  },
  
  // 容器間對齊
  verticalAlignment: 'top' | 'center' | 'bottom'
}
```

---

## 6. 開發注意事項

### 6.1 響應式處理
- 手機裝置下，所有佈局需自動轉換為垂直堆疊
- 確保欄位比例在不同裝置下正確呈現
- 注意 reverse 設定在不同斷點的行為

### 6.2 容器層級管理
- 疊層式佈局需正確處理 z-index
- 前景容器需確保在背景容器之上
- 避免內容被意外遮擋

### 6.3 元件限制驗證
- 需在前端進行元件類型驗證
- 分欄式與疊層式的允許元件不同，需正確區分
- 背景容器只能放置 Media_block

### 6.4 效能考量
- Grid 佈局需優化渲染效能
- 大量容器嵌套時注意效能影響
- 響應式斷點切換需流暢

---

## 7. 驗收標準

### 7.1 功能驗收
- [ ] 分欄式佈局在各裝置正確顯示
- [ ] 疊層式佈局在各裝置正確顯示
- [ ] 所有欄位比例選項均可正常運作
- [ ] reverse 功能在桌機/平板正確運作
- [ ] 手機裝置自動堆疊功能正常
- [ ] 容器寬度設定（fluid/fixed）正確運作
- [ ] 內容對齊功能正確
- [ ] 間距設定正確呈現
- [ ] 背景色設定正確
- [ ] 內容裁切功能正確
- [ ] 容器間垂直對齊正確

### 7.2 響應式驗收
- [ ] 桌機斷點（> 1024px）佈局正確
- [ ] 平板斷點（768px - 1024px）佈局正確
- [ ] 手機斷點（< 768px）自動堆疊
- [ ] 斷點切換時無明顯閃爍或跳動

### 7.3 元件容納驗收
- [ ] 分欄式佈局可正確容納指定元件
- [ ] 疊層式背景容器只能放置 Media_block
- [ ] 疊層式前景容器可正確容納指定元件
- [ ] 不允許的元件無法被添加（有驗證機制）

### 7.4 瀏覽器相容性
- [ ] Chrome 最新版本正常運作
- [ ] Firefox 最新版本正常運作
- [ ] Safari 最新版本正常運作
- [ ] Edge 最新版本正常運作

### 7.5 效能驗收
- [ ] 頁面載入時間符合標準
- [ ] 斷點切換流暢無延遲
- [ ] 無明顯的效能瓶頸

---

## 8. UI/UX 規範

### 8.1 視覺一致性
- 容器間距需保持一致性
- 背景色選擇需符合整體設計系統
- 內容對齊需視覺平衡

### 8.2 使用者體驗
- 響應式切換需平滑自然
- 內容在不同裝置下均需易於閱讀
- 交疊佈局的前後景層次需清晰

### 8.3 無障礙設計
- 確保內容在不同裝置均可訪問
- 注意色彩對比度
- 支援鍵盤導航（如容器內有互動元件）

---

## 9. 測試案例

### 9.1 分欄式佈局測試

**測試案例 1：桌機 3:9 比例**
- 步驟：設定 colSpan 為 3:9
- 預期：Container 1 佔 3 欄，Container 2 佔 9 欄

**測試案例 2：平板自動調整**
- 步驟：從桌機切換到平板裝置
- 預期：自動調整為平板適用的欄位比例

**測試案例 3：手機堆疊**
- 步驟：切換到手機裝置
- 預期：兩個容器垂直堆疊

**測試案例 4：Reverse 功能**
- 步驟：啟用 reverse 設定
- 預期：容器順序對調

### 9.2 疊層式佈局測試

**測試案例 5：背景容器元件限制**
- 步驟：嘗試在背景容器添加 Text_block
- 預期：系統拒絕或警告

**測試案例 6：前景容器元件**
- 步驟：在前景容器添加允許的元件
- 預期：成功添加

**測試案例 7：垂直對齊**
- 步驟：設定 verticalAlignment 為 center
- 預期：兩個容器垂直置中對齊

### 9.3 容器設置測試

**測試案例 8：固定寬度**
- 步驟：設定 Container 1 為 fixed width
- 預期：Container 2 自動調整為 auto

**測試案例 9：最大寬度限制**
- 步驟：在 fluid 模式設定 maxWidth
- 預期：容器不超過設定的最大寬度

**測試案例 10：內容裁切**
- 步驟：啟用 clip，添加超出容器的內容
- 預期：超出部分被裁切

---

## 10. 附錄

### 10.1 參考文件
- Grid System 設計規範
- 響應式設計最佳實踐
- 專案整體設計系統文件

### 10.2 版本歷史
| 版本 | 日期 | 修改內容 | 修改者 |
|------|------|----------|--------|
| 1.0  | 2024-12-27 | 初始版本建立 | - |

### 10.3 術語表
- **Grid System**：網格系統，用於網頁佈局的柵格化設計方式
- **Cols Span**：欄位跨度，指元件在網格中佔據的欄位數量
- **Breakpoint**：斷點，響應式設計中裝置寬度的臨界值
- **Overlay**：疊層，元件層疊排列的佈局方式
- **Fluid**：流動式，隨螢幕尺寸動態調整的佈局模式
- **Fixed**：固定式，寬度不隨螢幕變化的佈局模式

---

**文件結束**
