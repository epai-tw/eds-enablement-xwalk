!function(){var t,e={26:function(t,e,i){"use strict";i(822),i(311),i(52),i(400),i(659),i(558);var r=i(652),s=i(549),n=i(768);class a{constructor(t){t&&!t.dataset.initialized&&(this.container=t,this.container.dataset.initialized="true",this._init())}_init(){this._initSwiperGallery()}_initSwiperGallery(){const t=this.container.querySelector(".product-gallery__main-carousel"),e=this.container.querySelector(".product-gallery__thumbs-carousel");if(!t||!e)return;const i=e.parentNode.querySelector(".carousel__action--previous"),n=e.parentNode.querySelector(".carousel__action--next"),a=new r.Z(e,{modules:[s.W_,s.s5],spaceBetween:10,slidesPerView:"auto",freeMode:!0,slideToClickedSlide:!0,watchSlidesProgress:!0,watchOverflow:!0,centeredSlides:!1,initialSlide:0}),o=new r.Z(t,{modules:[s.o3,s.s5,s.W_],noSwipingClass:"swiper-no-swiping",initialSlide:0,loop:!0,navigation:{nextEl:n,prevEl:i,disabledClass:"cmp-carousel__action--disabled"},thumbs:{swiper:a,slideThumbActiveClass:"carousel__item--active"}});if("true"===t.dataset.showImageGalleryModal){let e=[];o.slides.forEach(((t,i)=>{e.push({image:t.querySelector("img").src,thumbnail:a.slides[i].querySelector("img").src,title:t.querySelector("img").alt})})),t.addEventListener("click",(()=>{window.imageGallery.show(e,o.realIndex,t.dataset.galleryTitle,t.dataset.galleryDescription)}))}}}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".cmp-product-preview").forEach((t=>new a(t)));new MutationObserver((t=>{for(const e of t)"childList"===e.type&&e.addedNodes.forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&(t.matches(".cmp-product-preview")?new a(t):t.querySelectorAll(".cmp-product-preview").forEach((t=>new a(t))))}))})).observe(document.body,{childList:!0,subtree:!0}),document.addEventListener("click",(t=>{const e=t.target.closest('button[data-a11y-dialog-show="time-spy-score-dialog"]'),i=document.querySelector("#time-spy-score-dialog");if(!e||!i)return;const r=e.dataset.score||"N/A",s=e.dataset.level,n=i.querySelector(".score-value"),a=i.querySelectorAll(".score-level");if(n&&(n.textContent=r),a.forEach((t=>t.classList.remove("current"))),s){const t=i.querySelector(`[data-level="${s}"]`);t&&t.classList.add("current")}}))}));const o=!0,d={isProd:o,apiEndPoint:{base:"https://magento.api.com",products:"/products",hotProducts:"/products?hot_product=1"}},c=async(t,e)=>{const i=`${d.apiEndPoint.base}${t}`;try{const t=await fetch(i,e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error(`Error fetching from ${i}:`,t),t}};function l(t){const{id:e="",name:i="Product Name",model:r="",image:s="./clientlib-site/images/product-placeholder.png",imageHover:n="",status:a=[],stars:o=0,reviews:d=0,benchmarkGame:c="",fps:l=0,fpsDetails:u=[],specs:p=[],price:h="N/A",originalPrice:m="",discount:g="",estorePriceTooltipText:_=""}=t,v=a.map((t=>`<span class="cmp-product-card__status-item cmp-product-card__status--${t.toLowerCase().replace(" ","-")}">${t}</span>`)).join(""),f=p.map((t=>`<li class="cmp-product-card__spec-item">${t}</li>`)).join("");return`\n        <div class="cmp-product-card">\n            <div class="cmp-product-card__header">\n                <div class="cmp-product-card__status">${v}</div>\n            </div>\n            <div class="cmp-product-card__body">\n                <div class="cmp-product-card__image cmp-image">\n                    <button \n                      class="cmp-product-card__preview-btn"\n                      data-a11y-dialog-show="product-preview-dialog"\n                      aria-label="Preview ${i}"\n                    >Preview</button>\n                    <img class="cmp-image__image" src="${s}" alt="${i}" />\n                    ${n?`<img class="cmp-image__image--hover" src="${n}" alt="${i}" aria-hidden="true" />`:""}\n                </div>\n                <div class="cmp-product-card__info">\n                    <h3 class="cmp-product-card__title">${i}</h3>\n                    <p class="cmp-product-card__model">${r}</p>\n            </div>\n                <div class="cmp-product-card__rating_and_compare">\n                    <div class="cmp-product-card__rating">\n                        <div\n                          class="cmp-product-card__stars"\n                          data-rating="${o}"\n                          aria-label="Rated ${o} out of 5 stars based on ${d} customer reviews"\n                          role="img"\n                        >\n                            <div class="cmp-product-card__stars-icon"></div>\n                            <span class="cmp-product-card__stars-text" aria-hidden="true">${o} (${d})</span>\n                        </div>\n                    </div>\n                    <div class="cmp-product-card__compare">\n                        <input\n                          type="checkbox"\n                          class="cmp-product-card__compare-checkbox"\n                          id="compare-${e}"\n                          data-id="${e}"\n                          data-name="${i}"\n                          data-model="${r}"\n                          data-sku="${r}"\n                          data-image="${s}"\n                          data-pdp="/product-detail/${e}"\n                          data-add-to-compare\n                        />\n                        <label for="compare-${e}" class="cmp-product-card__compare-label">Compare</label>\n                    </div>\n                </div>\n                <div class="cmp-product-card__fps">\n                    <p class="cmp-product-card__fps-game">${c}</p>\n                    <button\n                      class="cmp-product-card__fps-score"\n                      data-tooltip-trigger\n                      aria-describedby="fps-details-${e}"\n                      data-tooltip-position="right"\n                    >FPS: ${l}</button>\n                    <div id="fps-details-${e}" class="tooltip__content" role="tooltip">\n                        <table class="cmp-product-card__fps-table">\n                            <thead><tr><th>Game FPS</th><th>1080P</th><th>1440P</th></tr></thead>\n                            <tbody>${u.map((t=>`\n        <tr>\n            <td>${t.game}</td>\n            <td>${t.fps1080}</td>\n            <td>${t.fps1440}</td>\n        </tr>\n    `)).join("")}</tbody>\n                        </table>\n                    </div>\n                </div>\n                <ul class="cmp-product-card__specs">${f}</ul>\n                <div class="cmp-product-card__estore">\n                    <div class="cmp-product-card__estore-line">\n                        <span class="cmp-product-card__estore-label">ASUS estore price</span>\n                        <div class="cmp-product-card__estore-icon-wrapper">\n                            <button\n                              class="cmp-product-card__estore-icon"\n                              data-tooltip-trigger\n                              aria-describedby="estore-price-info-${e}"\n                              data-tooltip-position="top"\n                            >\n                              <span class="visually-hidden">Information about ASUS estore price.</span>\n                            </button>\n                            <div\n                              class="cmp-product-card__tooltip\n                              tooltip__content"\n                              id="estore-price-info-${e}"\n                              role="tooltip"\n                            >${_}</div>\n                        </div>\n                    </div>\n                </div>\n                <div class="cmp-product-card__price-block">\n                    <span class="cmp-product-card__price">$${h}</span>\n                    ${m?`<span class="cmp-product-card__original-price">$${m}</span>`:""}\n                    ${g?`<span class="cmp-product-card__discount">SAVE $${g}</span>`:""}\n                </div>\n            </div>\n            <div class="cmp-product-card__footer">\n                <button class="cmp-button cmp-product-card__buy-button btn">Buy now</button>\n        </div>\n    </div>\n  `}async function u(t){const e=t.dataset.productType,i=t.querySelector(".cmp-carousel__content");if(!e||!i)return void console.error("Carousel is not configured correctly. Missing data-product-type or content container.");let r="";switch(e){case"hot":r=d.apiEndPoint.hotProducts;break;case"related":r=d.apiEndPoint.relatedProducts;break;case"new":r=d.apiEndPoint.newProducts;break;default:return void console.warn(`Unknown product type: ${e}`)}try{(await c(r)).forEach((t=>{const e=l(t),r=document.createElement("div");r.className="cmp-carousel__item",r.innerHTML=e,i.appendChild(r)})),window.initializeSwiperOnAEMCarousel&&window.initializeSwiperOnAEMCarousel(t.closest(".carousel"))}catch(t){console.error(`Failed to load ${e} products:`,t)}}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[data-product-type]").forEach(u)})),window.renderProductCard=l;i(386);var p=i(122);class h{constructor(t){this.form=t,this.form&&(this.DEFAULT_BUDGET_RANGE={min:500,max:5e3},this.dom={games:this.form.querySelectorAll('input[name="games"]'),submitBtn:this.form.querySelector('button[type="submit"]'),slider:this.form.querySelector("#budget-range"),minValText:this.form.querySelector("#budget-min-value"),maxValText:this.form.querySelector("#budget-max-value"),minBudgetInput:this.form.querySelector("#min-budget"),maxBudgetInput:this.form.querySelector("#max-budget")},this.init())}init(){this._initSlider(),this._bindEvents(),this._updateSubmitButtonState()}_initSlider(){if(!this.dom.slider)return;const{dataset:t}=this.dom.slider,e=parseInt(t.min||this.DEFAULT_BUDGET_RANGE.min,10),i=parseInt(t.max||this.DEFAULT_BUDGET_RANGE.max,10),r=t.start?JSON.parse(t.start):[e,i],s=t.step?parseInt(t.step,10):1;p.Ue(this.dom.slider,{start:r,connect:!0,step:s,margin:s,range:{min:e,max:i},format:{to:t=>Math.round(t),from:t=>Number(t)},ariaFormat:{to:t=>`$${Math.round(t)}`,from:t=>Number(t.replace("$",""))}}),this.dom.slider.noUiSlider.on("update",(t=>{const[e,i]=t.map((t=>parseFloat(t)));this._updateBudgetDisplay(e,i)}))}_bindEvents(){this.form.addEventListener("change",(t=>{"games"===t.target.name&&this._updateSubmitButtonState()})),this.form.addEventListener("reset",(()=>this._handleFormReset()))}_updateBudgetDisplay(t,e){this.dom.minValText&&(this.dom.minValText.textContent=`$${t}`),this.dom.maxValText&&(this.dom.maxValText.textContent=`$${e}`),this.dom.minBudgetInput&&(this.dom.minBudgetInput.value=t),this.dom.maxBudgetInput&&(this.dom.maxBudgetInput.value=e)}_updateSubmitButtonState(){const t=[...this.dom.games].some((t=>t.checked));this.dom.submitBtn&&(this.dom.submitBtn.disabled=!t)}_handleFormReset(){setTimeout((()=>{this._updateSubmitButtonState(),this.dom.slider?.noUiSlider.set([this.DEFAULT_BUDGET_RANGE.min,this.DEFAULT_BUDGET_RANGE.max])}),0)}}const m=t=>{t.querySelectorAll("[data-select-game-form]").forEach((t=>{t.dataset.initialized||(new h(t),t.dataset.initialized="true")}))};document.addEventListener("DOMContentLoaded",(()=>{m(document.body),g.observe(document.body,{childList:!0,subtree:!0})}));const g=new MutationObserver((t=>{t.forEach((t=>{t.addedNodes.length&&t.addedNodes.forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&m(t)}))}))}));i(133);var _=i(850);i(841);class v{constructor(){this.sidebar=document.querySelector(".cmp-sidebar__filters"),this.appliedFiltersContainer=document.querySelector(".cmp-sidebar__applied-filters"),this.appliedFiltersList=document.querySelector(".applied-filters__list"),this.clearAllBtn=document.querySelector(".applied-filters__clear"),this.budgetSlider=document.getElementById("budget-range-slider"),this.minBudgetInput=document.getElementById("minBudget"),this.maxBudgetInput=document.getElementById("maxBudget"),this.applyButton=document.querySelector(".btn-apply"),this.DEFAULT_MIN=500,this.DEFAULT_MAX=5e3,this.DEFAULT_BUDGET_RANGE={min:500,max:5e3},this.isInitializing=!1,this.urlUpdateTimeout=null,this.pendingFilters=[],this.isMobile=window.innerWidth<992,this.sidebar&&this.init()}getUrlParams(){const t=new URLSearchParams(window.location.search);return{minBudget:parseInt(t.get("minBudget"))||this.DEFAULT_MIN,maxBudget:parseInt(t.get("maxBudget"))||this.DEFAULT_MAX,filters:t.getAll("filter").filter((t=>t.trim()))}}updateUrlParams(t){this.urlUpdateTimeout&&clearTimeout(this.urlUpdateTimeout),this.urlUpdateTimeout=setTimeout((()=>{const e=new URL(window.location),i=new URLSearchParams;i.set("minBudget",t.minBudget),i.set("maxBudget",t.maxBudget),t.filters.forEach((t=>{t.trim()&&i.append("filter",t)})),e.search=i.toString(),this.isInitializing||window.history.replaceState({filters:t},"",e)}),100)}getFilterText(t){const e=t.closest(".cmp-accordion__item");if(!e)return"";return`${e.querySelector(".cmp-accordion__title")?.textContent?.trim()||""}: ${t.nextElementSibling?.textContent?.trim()||""}`}updateAppliedFiltersVisibility(){if(!this.appliedFiltersContainer||!this.appliedFiltersList)return;this.appliedFiltersContainer.style.display="none";this.appliedFiltersList.children.length>0&&(this.appliedFiltersContainer.style.display="block")}addAppliedFilter(t){if(!t.trim()||!this.appliedFiltersList)return;if(![...this.appliedFiltersList.querySelectorAll(".applied-filter")].some((e=>e.textContent.replace("×","").trim()===t))){const e=document.createElement("span");e.className="applied-filter",e.setAttribute("role","listitem");const[i,r]=t.includes(":")?t.split(":").map((t=>t.trim())):["Filter",t.trim()];e.innerHTML=`\n        <span class="filter-text">${t}</span>\n        <button class="remove-filter" aria-label="Remove ${i} filter: ${r}" type="button">×</button>\n      `,this.appliedFiltersList.appendChild(e),this.updateAppliedFiltersVisibility()}}removeAppliedFilter(t){this.appliedFiltersList&&([...this.appliedFiltersList.querySelectorAll(".applied-filter")].forEach((e=>{(e.querySelector(".filter-text")?.textContent?.trim()||e.textContent.replace("×","").trim())===t&&e.remove()})),this.updateAppliedFiltersVisibility())}updateBudgetRangeFilter(t,e){const i=`Price Range: $${t} - $${e}`;this.removeBudgetRangeFilter(),t===this.DEFAULT_MIN&&e===this.DEFAULT_MAX||this.addAppliedFilter(i)}removeBudgetRangeFilter(){this.appliedFiltersList&&[...this.appliedFiltersList.querySelectorAll(".applied-filter")].forEach((t=>{(t.querySelector(".filter-text")?.textContent?.trim()||"").startsWith("Price Range:")&&t.remove()}))}lastSyncedValues={min:null,max:null};handleSliderChange(t=!1){if(!this.budgetSlider||!this.budgetSlider.noUiSlider)return;const e=this.budgetSlider.noUiSlider.get(),[i,r]=e.map((t=>Math.round(parseFloat(t))));if(this.lastSyncedValues.min===i&&this.lastSyncedValues.max===r)return;const s=document.getElementById("budget-min-value"),n=document.getElementById("budget-max-value");s&&(s.value=`$${i}`),n&&(n.value=`$${r}`),this.minBudgetInput&&(this.minBudgetInput.value=i),this.maxBudgetInput&&(this.maxBudgetInput.value=r),this.isInitializing||(this.updateBudgetRangeFilter(i,r),t&&(this.lastSyncedValues={min:i,max:r},this.syncStateWithUrl()))}showLoadingState(){const t=document.getElementById("product-grid");t&&t.classList.add("loading")}hideLoadingState(){const t=document.getElementById("product-grid");t&&t.classList.remove("loading")}initBudgetSlider(){if(!this.budgetSlider)return;this.budgetSlider.noUiSlider&&this.budgetSlider.noUiSlider.destroy();const{dataset:t}=this.budgetSlider,e=parseInt(t.min||this.DEFAULT_BUDGET_RANGE.min,10),i=parseInt(t.max||this.DEFAULT_BUDGET_RANGE.max,10),r=t.start?JSON.parse(t.start):[e,i],s=t.step?parseInt(t.step,10):1;p.ZP.create(this.budgetSlider,{start:r,connect:!0,step:s,margin:s,range:{min:e,max:i},format:{to:t=>Math.round(t),from:t=>Number(t)}}),this.budgetSlider.noUiSlider.on("update",((t,e)=>{this.handleSliderChange(!1)})),this.budgetSlider.noUiSlider.on("change",(()=>{this.handleSliderChange(!0)}))}getCurrentFilters(){const t=[];if(this.minBudgetInput&&this.maxBudgetInput){const e=parseInt(this.minBudgetInput.value)||this.DEFAULT_MIN,i=parseInt(this.maxBudgetInput.value)||this.DEFAULT_MAX;e===this.DEFAULT_MIN&&i===this.DEFAULT_MAX||t.push(`$${e}-$${i}`)}const e=Array.from(this.sidebar.querySelectorAll('input[type="checkbox"]:checked')).map((t=>this.getFilterText(t).split(":").pop().trim())).filter((t=>t.trim()));return[...t,...e]}syncStateWithUrl(){if(this.isInitializing)return;const t=this.getCurrentFilters(),e={minBudget:parseInt(this.minBudgetInput?.value)||this.DEFAULT_MIN,maxBudget:parseInt(this.maxBudgetInput?.value)||this.DEFAULT_MAX};this.updateUrlParams({...e,filters:t});const i=document.getElementById("product-grid");i&&(i.innerHTML=""),document.dispatchEvent(new CustomEvent("product-filter-applied",{detail:{filters:t,resetPage:!0}}))}handleCheckboxChange(t,e=!1){const i=this.getFilterText(t);if(i)if(t.checked?this.addAppliedFilter(i):this.removeAppliedFilter(i),!this.isMobile||e)this.syncStateWithUrl();else{const e=this.pendingFilters.findIndex((e=>e.id===t.id));t.checked?-1===e&&this.pendingFilters.push({id:t.id,text:i,checked:!0}):-1!==e&&this.pendingFilters.splice(e,1)}}applyPendingFilters(){this.pendingFilters=[],this.syncStateWithUrl();const t=document.querySelector('[data-a11y-dialog-hide="product-filter-dialog"]');t&&t.click()}cancelPendingFilters(){this.pendingFilters.forEach((t=>{const e=document.getElementById(t.id);e&&(e.checked=t.checked)})),this.pendingFilters=[]}setupCheckboxHandlers(){this.sidebar.querySelectorAll('input[type="checkbox"]').forEach((t=>{t.addEventListener("change",(()=>{const e=this.getFilterText(t);if(e)if(t.checked?this.addAppliedFilter(e):this.removeAppliedFilter(e),this.isMobile){const i=this.pendingFilters.findIndex((e=>e.id===t.id));t.checked?-1===i&&this.pendingFilters.push({id:t.id,text:e,checked:!0}):-1!==i&&this.pendingFilters.splice(i,1)}else this.syncStateWithUrl()}))}))}setupRemoveFilterHandlers(){document.addEventListener("click",(t=>{if(!t.target.closest(".remove-filter"))return;t.preventDefault();const e=t.target.closest(".applied-filter");if(!e)return;const i=e.querySelector(".filter-text")?.textContent?.trim()||e.textContent.replace("×","").trim();this.sidebar.querySelectorAll('input[type="checkbox"]').forEach((t=>{this.getFilterText(t)===i&&(t.checked=!1)})),this.removeAppliedFilter(i),this.syncStateWithUrl()}))}setupClearAllHandler(){this.clearAllBtn&&this.clearAllBtn.addEventListener("click",(t=>{t.preventDefault(),this.sidebar.querySelectorAll('input[type="checkbox"]').forEach((t=>{t.checked=!1})),this.budgetSlider?.noUiSlider&&this.budgetSlider.noUiSlider.set([this.DEFAULT_MIN,this.DEFAULT_MAX]),this.appliedFiltersList&&(this.appliedFiltersList.innerHTML=""),this.updateAppliedFiltersVisibility(),this.updateBudgetRangeFilter(this.DEFAULT_MIN,this.DEFAULT_MAX),this.syncStateWithUrl()}))}async initializeFromUrl(){this.isInitializing=!0;try{const{minBudget:t,maxBudget:e,filters:i}=this.getUrlParams();if(this.budgetSlider?.noUiSlider&&(this.budgetSlider.noUiSlider.set([t,e]),t===this.DEFAULT_MIN&&e===this.DEFAULT_MAX||this.updateBudgetRangeFilter(t,e)),i.length>0){const t=new Set;i.forEach((e=>{const[i]=e.split(":").map((t=>t.trim()));t.add(i)})),await new Promise((t=>setTimeout(t,150))),i.forEach((t=>{this.applyFilterFromText(t),this.addAppliedFilter(t)}))}}catch(t){console.error("Error initializing from URL:",t)}finally{this.isInitializing=!1}}applyFilterFromText(t){if(!t.includes(":"))return;const[e,i]=t.split(":").map((t=>t.trim()));this.sidebar.querySelectorAll(".cmp-accordion__item").forEach((r=>{const s=r.querySelector(".cmp-accordion__title")?.textContent?.trim();s===e&&r.querySelectorAll('input[type="checkbox"]').forEach((e=>{const r=e.nextElementSibling?.textContent?.trim();r!==i||e.checked||(e.checked=!0,this.addAppliedFilter(t))}))}))}setupPopstateHandler(){window.addEventListener("popstate",(()=>{this.initializeFromUrl()}))}setupMobileButtons(){this.applyButton&&this.applyButton.addEventListener("click",(()=>{this.applyPendingFilters()}))}closeMobileFilterDialog(){const t=document.querySelector('[data-a11y-dialog-hide="product-filter-dialog"]');t&&t.click()}handleResize(){const t=this.isMobile;this.isMobile=window.innerWidth<992,t&&!this.isMobile&&this.pendingFilters.length>0&&this.applyPendingFilters()}init(){this.appliedFiltersContainer&&(this.appliedFiltersContainer.style.display="none"),this.initBudgetSlider(),this.setupCheckboxHandlers(),this.setupRemoveFilterHandlers(),this.setupClearAllHandler(),this.setupMobileButtons(),this.initializeFromUrl(),this.setupPopstateHandler(),window.addEventListener("resize",this.handleResize.bind(this))}}class f{constructor(){this.productGrid=document.getElementById("product-grid"),this.productCountElement=document.getElementById("product-count"),this.showMoreBtn=document.getElementById("show-more-products"),this.productsPerPage=4,this.currentPage=1,this.allProducts=[],this.totalProducts=0,this.hasMore=!0,this.currentSort="newest",this.filters=[],this.init()}async init(){this.bindEvents(),await this.fetchProducts()}bindEvents(){this.showMoreBtn?.addEventListener("click",(()=>this.loadMoreProducts())),document.addEventListener("product-filter-applied",(t=>{t.detail.resetPage&&(this.currentPage=1,this.allProducts=[]),this.filters=t.detail.filters,this.fetchProducts()})),document.addEventListener("product-sort-applied",(t=>{this.currentPage=1,this.allProducts=[],this.currentSort=t.detail.sort,this.fetchProducts()}))}async fetchProducts(){try{1===this.currentPage&&(this.productGrid.innerHTML=""),this.showMoreBtn.innerHTML="Loading...";const t=encodeURIComponent(JSON.stringify(this.filters)),e=await c(`products-paginated.json?page=${this.currentPage}&sort=${this.currentSort}&filters=${t}`);this.allProducts=[...this.allProducts,...e.products],this.totalProducts=e.totalProducts,this.hasMore=e.hasMore||!1,this.updateProductCount(),this.renderProducts(e.products),this.showMoreBtn.style.display=this.hasMore?"block":"none"}catch(t){throw console.error("Error loading products:",t),this.showError("Failed to load products. Please try again."),t}finally{this.showMoreBtn.innerHTML='Show more <span class="icon icon--arrow-bottom"></span>'}}updateProductCount(){this.productCountElement&&(this.productCountElement.textContent=`${this.totalProducts} Products Found`)}renderProducts(t){if(this.productGrid)try{t.forEach((t=>{try{const e=window.renderProductCard(t),i=document.createElement("div");i.className="layout-grid__col layout-grid__col--span-6 layout-grid__col--sm-span-12",i.innerHTML=e,this.productGrid.appendChild(i)}catch(e){console.error("Error rendering product card:",e,t)}}))}catch(t){console.error("Error in renderProducts:",t)}else console.error("Product grid element not found")}loadMoreProducts(){this.hasMore&&(this.currentPage++,this.fetchProducts())}showError(t){this.productGrid&&(this.productGrid.innerHTML=`\n        <div class="cmp-product-listing__error">\n          <p>${t}</p>\n        </div>\n      `)}}class y{constructor(t){this.selectElement=t,this.choicesInstance=null,this.init()}init(){this.selectElement&&(this.choicesInstance=new _.Z(this.selectElement,{searchEnabled:!1,itemSelectText:"",shouldSort:!1,callbackOnInit:()=>{this.setupAriaAttributes()}}),this.setupEventListeners())}setupAriaAttributes(){const t=this.selectElement.closest(".choices"),e=t?.querySelector(".choices__inner");t&&e&&(e.setAttribute("aria-label","Sort products by"),e.setAttribute("aria-expanded","false"),e.setAttribute("role","combobox"),this.updateOptionAriaAttributes())}updateOptionAriaAttributes(){const t=this.selectElement.value;this.selectElement.querySelectorAll("option").forEach((e=>{const i=e.value===t;e.setAttribute("aria-selected",i.toString()),e.setAttribute("role","option")}))}setupEventListeners(){const t=this.selectElement.closest(".choices"),e=t?.querySelector(".choices__inner");t&&e&&(this.selectElement.addEventListener("showDropdown",(()=>{e.setAttribute("aria-expanded","true")})),this.selectElement.addEventListener("hideDropdown",(()=>{e.setAttribute("aria-expanded","false")})),this.selectElement.addEventListener("change",(()=>{this.updateOptionAriaAttributes();const t=this.selectElement.options[this.selectElement.selectedIndex];t&&this.announceSelection(t.textContent),document.dispatchEvent(new CustomEvent("product-sort-applied",{detail:{sort:t.value}}))})))}announceSelection(t){const e=document.createElement("div");e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.className="sr-only",e.textContent=`Sort order changed to ${t}`,document.body.appendChild(e),setTimeout((()=>{document.body.removeChild(e)}),1e3)}}document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector("#sort-by");t&&new y(t),new v,new f;const e=document.querySelector('[data-a11y-dialog-show="product-filter-dialog"]'),i=document.getElementById("product-filter-dialog");if(e&&i){const t=new n.Z(i);e.addEventListener("click",(()=>{i.classList.add("dialog-container"),t.show()})),window.addEventListener("resize",(()=>{matchMedia("(max-width: 1024px)").matches||(i.classList.remove("dialog-container"),i.removeAttribute("aria-hidden"),i.removeAttribute("aria-modal"),i.removeAttribute("role"))}))}}))},400:function(){document.addEventListener("click",(function(t){const e=t.target.closest(".cmp-advantage-card__btn"),i=e?.closest(".cmp-advantage-card"),r=i?.querySelector(".cmp-advantage-card__video"),s=i?.closest(".swiper")?.swiperInstance,n=i?.closest(".swiper-slide");e&&i&&r&&s&&(s.autoplay.resume(),s.autoplay.stop(),r.dataset.src&&!r.getAttribute("src")&&(r.setAttribute("src",r.dataset.src),r.load()),r.readyState>=1&&!isNaN(r.duration)?n.dataset.swiperAutoplay=1e3*(Math.ceil(r.duration)+1):r.addEventListener("loadedmetadata",(()=>{n.dataset.swiperAutoplay=1e3*(r.duration+1)})),r.play(),i.classList.add("is-playing"),s.autoplay.start(),r.onended=()=>{n.dataset.swiperAutoplay="",i.classList.remove("is-playing"),r.currentTime=0})}))},133:function(){class t{constructor(t){this.container=t,this.container&&(this.COMPARE_LIMIT=4,this.COMPARE_KEY="compare-products",this.state={products:[],isCollapsed:!0},this.dom={list:this.container.querySelector(".cmp-product-compare__list"),countSpan:this.container.querySelector("[data-count]"),errorContainer:this.container.querySelector(".cmp-product-compare__error-container"),compareBtn:this.container.querySelector("[data-action='compare']"),toggleBtn:this.container.querySelector(".cmp-product-compare__toggle")},this.init())}init(){this.updateState({initialize:!0}),this.attachEventListeners(),this.setupMutationObserver()}updateState({initialize:t=!1}={}){this.state.products=this.getStoredProducts(),this.state.isCollapsed=t??!1,this.render(),this.updateAllCheckboxes()}getStoredProducts(){try{return JSON.parse(localStorage.getItem(this.COMPARE_KEY))||[]}catch(t){return console.error("Error reading compare products:",t),[]}}storeProducts(t){try{localStorage.setItem(this.COMPARE_KEY,JSON.stringify(t)),this.updateState()}catch(t){console.error("Error storing compare products:",t)}}attachEventListeners(){this.container.addEventListener("click",this.handleContainerClick.bind(this)),document.addEventListener("change",this.handleCheckboxChange.bind(this))}handleContainerClick(t){const e=t.target.closest("[data-action]"),i=t.target.closest(".cmp-product-compare__remove");if(i)return t.preventDefault(),void this.removeProduct(i.dataset.id);if(!e)return;t.preventDefault();switch(e.dataset.action){case"clear-all":this.clearAll();break;case"toggle-collapse":this.toggleCollapse();break;case"compare":this.state.products.length<2&&this.showError("minimum")}}handleCheckboxChange(t){const e=t.target;if(!e.matches("[data-add-to-compare]"))return;const i={id:e.dataset.id,name:e.dataset.name,sku:e.dataset.sku,pdpUrl:e.dataset.pdp,image:e.dataset.image};if(e.checked){if(this.state.products.length>=this.COMPARE_LIMIT)return alert(`You can only compare up to ${this.COMPARE_LIMIT} products.`),void(e.checked=!1);if(!this.state.products.some((t=>t.id===i.id))){const t=[...this.state.products,i];this.storeProducts(t)}}else this.removeProduct(i.id)}removeProduct(t){const e=this.state.products.filter((e=>e.id!==t));this.storeProducts(e)}clearAll(){this.storeProducts([])}toggleCollapse(t=null){this.state.isCollapsed=t??!this.state.isCollapsed,this.render()}showError(t){this.dom.errorContainer.querySelectorAll("[data-error]").forEach((t=>t.hidden=!0));const e=this.dom.errorContainer.querySelector(`[data-error="${t}"]`);e&&(this.dom.errorContainer.classList.add("has-error"),e.hidden=!1)}createSlotHTML(t){return t?`\n        <div class="cmp-product-compare__item">\n          <a href="${t.pdpUrl}" class="cmp-product-compare__link">\n            <div class="cmp-product-compare__image-block">\n              <img src="${t.image}" alt="${t.name}" class="cmp-product-compare__image" />\n            </div>\n            <div class="cmp-product-compare__text-block">\n              <div class="cmp-product-compare__name">${t.name}</div>\n              <div class="cmp-product-compare__sku">${t.sku}</div>\n            </div>\n          </a>\n          <button class="cmp-product-compare__remove" data-id="${t.id}" aria-label="Remove product"></button>\n        </div>\n      `:'\n        <div class="cmp-product-compare__placeholder">\n          <span class="cmp-product-compare__add-icon" aria-hidden="true"></span>\n          <span>Add up to 4 products to compare</span>\n        </div>\n      '}updateAllCheckboxes(){const t=new Set(this.state.products.map((t=>t.id)));document.querySelectorAll("[data-add-to-compare]").forEach((e=>{e.checked=t.has(e.dataset.id)}))}setupMutationObserver(){new MutationObserver((t=>{for(const e of t)"childList"===e.type&&e.addedNodes.forEach((t=>{if(t.nodeType===Node.ELEMENT_NODE){t.querySelectorAll("[data-add-to-compare]").length>0&&this.updateAllCheckboxes()}}))})).observe(document.body,{childList:!0,subtree:!0})}render(){const t=this.state.products.length;this.container.classList.toggle("is-hidden",0===t),this.container.classList.toggle("is-collapsed",this.state.isCollapsed),this.dom.toggleBtn&&this.dom.toggleBtn.setAttribute("aria-expanded",!this.state.isCollapsed),this.dom.countSpan.textContent=t,this.dom.compareBtn.classList.toggle("has-products",t>=2),this.dom.errorContainer.classList.remove("has-error"),this.dom.errorContainer.querySelectorAll("[data-error]").forEach((t=>t.hidden=!0)),this.dom.list.innerHTML="";for(let t=0;t<this.COMPARE_LIMIT;t++){const e=this.state.products[t],i=document.createElement("li");i.className="cmp-product-compare__slot "+(e?"is-filled":"is-empty"),i.innerHTML=this.createSlotHTML(e),this.dom.list.appendChild(i)}}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("[data-compare-container]");e&&new t(e)}))}},i={};function r(t){var s=i[t];if(void 0!==s)return s.exports;var n=i[t]={exports:{}};return e[t](n,n.exports,r),n.exports}r.m=e,t=[],r.O=function(e,i,s,n){if(!i){var a=1/0;for(l=0;l<t.length;l++){i=t[l][0],s=t[l][1],n=t[l][2];for(var o=!0,d=0;d<i.length;d++)(!1&n||a>=n)&&Object.keys(r.O).every((function(t){return r.O[t](i[d])}))?i.splice(d--,1):(o=!1,n<a&&(a=n));if(o){t.splice(l--,1);var c=s();void 0!==c&&(e=c)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[i,s,n]},r.d=function(t,e){for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={641:0};r.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,n,a=i[0],o=i[1],d=i[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(d)var l=d(r)}for(e&&e(i);c<a.length;c++)n=a[c],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(l)},i=self.webpackChunkasus_cto=self.webpackChunkasus_cto||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var s=r.O(void 0,[646,399,49],(function(){return r(26)}));s=r.O(s)}();
//# sourceMappingURL=site.6984ff2c38f430ad1f21.js.map
